<!DOCTYPE html>
<html  xmlns:th = "http://www.thymeleaf.org"
xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">

<head th:fragment="page_head(title)">
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
         integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <title>[[${title}]] - [[${SITE_NAME}]]</title>
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://use.fontawesome.com/releases/v5.11.2/css/all.css"
    />
    <!-- Google Fonts Roboto -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap"
    />
    <!-- Custom styles -->
    <link rel="stylesheet" th:href="@{/css/style.css}" />
  </head>

<body>
    <!--Main Navigation-->
    <header  th:fragment="header">
      <!-- Jumbotron -->
      <div class="p-3 text-center bg-white border-bottom">
        <div class="container">
          <div class="row gy-3 d-flex justify-content-between">
            <!-- Left elements -->
            <div class="col-lg-2 col-sm-4 col-4">
              <a
                th:href="@{/}"
              >
                <img
                  th:src="@{/images/logo.png}"
                  height="40"
                />
              </a>
            </div>
            <!-- Left elements -->
               <!-- Left elements -->
          <form class="col-lg-5 col-md-12 col-12" th:action="@{.}" th:if="${searchField} eq 'categories'">               
           
              <div class="input-group d-flex">
            
                      <input class="form-control me-1" type="text"  name="keyword" th:value="${keyword}"  placeholder="Enter the category"> 
                      <button class="btn btn-primary"  style="width: 70px;" type="submit">Search</button> &nbsp;
                      <a class="btn btn-secondary" th:href="@{.}" style="width: 60px;">Clear</a>

              </div>
          </form>
          
           <form class="col-lg-5 col-md-12 col-12" th:action="@{'/c/' + ${category.alias} + '/page/1'}" th:if="${searchField} eq 'products'">               
           
              <div class="input-group d-flex">
                      <input class="form-control me-1" type="text"  name="keyword" th:value="${keyword}"  placeholder="Enter the product name"> 
                      <button class="btn btn-primary"  style="width: 70px;" type="submit">Search</button> &nbsp;
                      <a class="btn btn-secondary" th:href="@{'/c/' + ${category.alias}}" style="width: 60px;">Clear</a>

              </div>
          </form>
            
            <!-- Center elements -->
            <div class="order-lg-last col-lg-5 col-sm-8 col-8">
              <div class="d-flex float-end">
                <a
                  href=""
                  class="me-1 border rounded py-1 px-3 nav-link d-flex align-items-center"
                  target="_blank"
                >
                  <i class="fas fa-user-alt m-1 me-md-2"></i>
                  <p class="d-none d-md-block mb-0">Sign in</p>
                </a>

                <a
                  class="border rounded py-1 px-3 nav-link d-flex align-items-center"
                  target="_blank"
                >
                  <i class="fas fa-shopping-cart m-1 me-md-2"></i>
                  <p class="d-none d-md-block mb-0">My cart</p>
                </a>
              </div>
            </div>
            <!-- Center elements -->

          
          </div>
        </div>
      </div>
      <!-- Jumbotron -->

      <!-- Navbar -->
      <nav class="navbar navbar-expand-lg navbar-light bg-white">
        <!-- Container wrapper -->
        <div
          class="container justify-content-center justify-content-md-between"
        >
          <!-- Toggle button -->
         
            <!-- Navbar toggle -->      
    <nav  class="navbar-toggler border py-2 text-dark" data-mdb-toggle="collapse"
            data-mdb-target="#navbarLeftAlignExample"
            aria-controls="navbarLeftAlignExample"
            aria-expanded="false"
            aria-label="Toggle navigation">
        <div class="container-fluid">
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDropdown">
                <ul class="navbar-nav">
                 <hr>
                    <li  class="dropdown-item" >
                        <a   id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Careers
                        </a>
                     
                    </li>
                    <hr>
                    <li  class="dropdown-item" >
                        <a   id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Payments
                        </a>
                      
                    </li>
                    <hr>
                    <li  class="dropdown-item" >
                        <a   id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                           Shipping & Delivery
                        </a>                     
                    </li>   
                    <hr>           
                    <li  class="dropdown-item" >
                        <a   id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Contact
                        </a>
                    </li>
                     <hr>           
                    <li  class="dropdown-item" >
                        <a th:href="@{/register}" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Register
                        </a>
                    </li>
                   
                </ul>
            </div>
        </div>
    </nav>
            <!-- End navbar -->
      

          <!-- Collapsible wrapper -->
          <div class="collapse navbar-collapse" id="navbarLeftAlignExample">
            <!-- Left links -->
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link text-dark" aria-current="page" href="#"
                  >Careers</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link text-dark" href="#">Payments</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-dark" href="#">Shipping & Delivery</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-dark" href="#">Contact</a>
              </li>
            </ul>
            <!-- Left links -->
          </div>
        </div>
        <!-- Container wrapper -->
      </nav>
      <!-- Navbar -->
     
    </header>
    
    
    
    
    
    
	
    
    
    
    
    
    
    
    
    

     <!-- Footer -->
    <footer
      class="text-center text-lg-start text-muted mt-3"
      style="background-color: #f5f5f5"   th:fragment="footer"
    >
      <div class="">
        <div class="container">
          <div class="d-flex justify-content-between py-4 border-top">
            <!--- payment --->
            <div>
              <i class="fab fa-lg fa-cc-visa text-dark"></i>
              <i class="fab fa-lg fa-cc-amex text-dark"></i>
              <i class="fab fa-lg fa-cc-mastercard text-dark"></i>
              <i class="fab fa-lg fa-cc-paypal text-dark"></i>
            </div>
            <!--- payment --->
            <p class="mt-2 text-dark">[[${COPYRIGHT}]]</p>
            <!--- language selector --->
            <div class="dropdown dropup">
              <a
                class="dropdown-toggle text-dark"
                href="#"
                id="Dropdown"
                role="button"
                data-mdb-toggle="dropdown"
                aria-expanded="false"
              >
                <i class="flag-united-kingdom flag m-0 me-1"></i>English
              </a>

              <ul
                class="dropdown-menu dropdown-menu-end"
                aria-labelledby="Dropdown"
              >
                <li>
                  <a class="dropdown-item" href="#"
                    ><i class="flag-united-kingdom flag"></i>English
                    <i class="fa fa-check text-success ms-2"></i
                  ></a>
                </li>
                <li><hr class="dropdown-divider" /></li>
                <li>
                  <a class="dropdown-item" href="#"
                    ><i class="flag-poland flag"></i>Polski</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="#"
                    ><i class="flag-china flag"></i>中文</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="#"
                    ><i class="flag-japan flag"></i>日本語</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="#"
                    ><i class="flag-germany flag"></i>Deutsch</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="#"
                    ><i class="flag-france flag"></i>Français</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="#"
                    ><i class="flag-spain flag"></i>Español</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="#"
                    ><i class="flag-russia flag"></i>Русский</a
                  >
                </li>
                <li>
                  <a class="dropdown-item" href="#"
                    ><i class="flag-portugal flag"></i>Português</a
                  >
                </li>
              </ul>
            </div>
            <!--- language selector --->
          </div>
        </div>
      </div>
    </footer>
    <!-- Footer -->



     <div th:fragment="product_price" th:remove="tag">
		<th:block th:if="${product.discountPercent &lt;= 0}">
			<div
				th:replace="fragments :: format_currency(${product.price})"></div>
		</th:block>
		<th:block th:if="${product.discountPercent > 0}">
			<span style="font-size: larger; color: darkred">
				<div
					th:replace="fragments :: format_currency(${product.discountPrice})"></div>
			</span>
			<del>
				<span>
					<div
						th:replace="fragments :: format_currency(${product.price})"></div>
				</span>
			</del>
		</th:block>
	</div>
 
      <!-- Format currency -->
      <div th:fragment="format_currency(amount)" th:remove="tag">
      <span
        th:if="${CURRENCY_SYMBOL_POSITION == 'Before price'}"
        th:remove="tag"
        >[[${CURRENCY_SYMBOL}]]</span
      >

      [[${#numbers.formatDecimal(amount, 1, THOUSANDS_POINT_TYPE,
      DECIMAL_DIGITS, DECIMAL_POINT_TYPE)}]]

      <span th:if="${CURRENCY_SYMBOL_POSITION == 'After price'}" th:remove="tag"
        >[[${CURRENCY_SYMBOL}]]</span
      >
     </div>


     <!-- Pagination -->
                                  <nav th:fragment="pagination"  style="margin: 2% 0 0 1%;" th:if="${totalPages > 1}">
                                    <ul class="pagination">
                           
                                        <li class="page-item disabled">
                                            <span th:unless="${currentPage > 1}" class="page-link">First</span>
                                        </li>
                                        
                                        <li th:if="${currentPage > 1}"  class="page-item">
                                           <a class="page-link" th:href="@{'/c/' + ${category.alias} +'/page/1' + '?keyword=' + ${keyword}}">First</a>
                                        </li>
                                    
                                        <li class="page-item disabled">
                                            <span th:unless="${currentPage > 1}" class="page-link">Previous</span>
                                        </li>
                                        
                                        <li th:if="${currentPage > 1}"  class="page-item">
                                          <a class="page-link" th:href="@{'/c/' + ${category.alias} +'/page/' + ${currentPage - 1}  + '?keyword=' + ${keyword}}">Previous</a>
                                        </li>
                                        
                                         <div th:each="i: ${#numbers.sequence(1, totalPages)}">
			                              <li th:if="${currentPage != i}" class="page-item">
			                                   <a th:href="@{'/c/' + ${category.alias} + '/page/' + ${i}  +  '?keyword=' + ${keyword}}" class="page-link" href="#">[[${i}]]</a>
			                              </li>
			                              
                                          <li th:unless="${currentPage != i}" class="page-item active" aria-current="page">
                                            <span class="page-link">[[${i}]]</span>
                                          </li>
                                          
                                        </div>
                                        
                                        <li class="page-item disabled">
                                            <span th:unless="${currentPage < totalPages}" class="page-link">Next</span>
                                        </li>
                                        
                                        <li th:if="${currentPage < totalPages}" class="page-item"><a class="page-link" th:href="@{'/c/' + ${category.alias} + '/page/' + ${currentPage + 1} +  '?keyword=' + ${keyword}}">Next</a></li>
                                   
                                         <li class="page-item disabled">
                                            <span th:unless="${currentPage < totalPages}" class="page-link">Last</span>
                                        </li>                     
                                        <li th:if="${currentPage < totalPages}" class="page-item"><a class="page-link" th:href="@{'/c/' + ${category.alias} + '/page/' + ${totalPages}  + '?keyword=' + ${keyword}}">Last</a></li>
                                    </ul>
                                </nav>
</body>
</html>