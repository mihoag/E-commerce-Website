<!DOCTYPE>
<html  xmlns:th = "http://www.thymeleaf.org"
xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
<meta charset="UTF-8">
<head th:replace="fragments :: page_head('Forgot Password')" />

<body>
     <!--  -->
    <div th:replace="fragments :: header"></div>
    
     <div class="bg-primary">
    <div class="container py-4">
      <!-- Breadcrumb -->
      <nav class="d-flex">
        <h6 class="mb-0">
           <a th:href="@{/}" class="text-white-50">Home</a>
       
          <span class="text-white-50 mx-2"> > </span>
          <a th:href="@{/login}" class="text-white-50">Login</a>
            <span class="text-white-50 mx-2"> > </span>
          <a class="text-white-50">Reset Password</a>
        </h6>
      </nav>
      <!-- Breadcrumb -->
    </div>
    </div>
    
    <div class = "d-flex justify-content-center align-item-center py-5">
		

		<form th:action="@{/reset_password}" method="post"
			style="max-width: 460px; margin: 0 auto" onsubmit="return checkPasswordMatch(document.getElementById('confirmPassword'))">
			<div th:if="${error != null}">
				<p class="text-danger" id = "errorMessage"></p>
			</div>
		     
		    <input th:value="${token}" hidden>
		
			<div class="border border-secondary rounded p-3">
			
				<div>
				    <p>Password: </p>
					<p>
						<input type="password" name="password" class="form-control"
							placeholder="Enter password" required="required"
							autofocus="autofocus" oninput="checkPasswordMatch(document.getElementById('confirmPassword'))"/>
					</p>
					
				</div>
				
				<div>
				    <p>Confirm password: </p>
					<p>
						<input type="password" id="confirmPassword" class="form-control"
							placeholder="Confirm password" required="required" oninput="checkPasswordMatch(this)" 
						/>
					</p>
					<small id="messageConfirmPassword" class="form-text hidden" style="color: red;">Passwords do not match!</small>
				</div>
				
				<div>
					<div class = "d-flex justify-content-center">
						<input type="submit" value="Send" class="btn btn-primary" />
					</div>
				</div>
			</div>
		</form>

		</div>

    <div class="mt-5" th:replace="fragments :: footer"></div>

</body>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
   <script type="text/javascript" th:src="@{/js/customer/ConfigPasswordEvent.js}"></script>
</html>