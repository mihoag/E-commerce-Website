<!DOCTYPE>
<html  xmlns:th = "http://www.thymeleaf.org"
xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
<meta charset="UTF-8">
<head th:replace="fragments :: page_head('Detail product page')">
<link th:href="@{/star-rating/css/star-rating.css}" media="all"
	rel="stylesheet" type="text/css" />
<script th:src="@{/star-rating/js/star-rating.js}"
	type="text/javascript"></script>
<link th:href="@{/star-rating/themes/krajee-svg/theme.css}" media="all"
	rel="stylesheet" type="text/css" />
<script th:src="@{/star-rating/themes/krajee-svg/theme.js}"></script>
</head>

<body>
     <!--  -->
    <div th:replace="fragments :: header"></div>
     
     	<div class="row">
			<div class="col-sm">
				<div>
					<img id="bigImage" th:src="@{${product.mainImagePath}}"
						class="img-fluid" index="0" />
				</div>
				<div class="row justify-content-center">
					<div class="m-2 border border-secondary p-1">
						<img class="image-thumbnail" th:src="@{${product.mainImagePath}}"
							height="50" index="0" />
					</div>
					<th:block th:each="extraImage, status : ${product.images}">
						<div class="m-2 border border-secondary p-1">
							<img class="image-thumbnail" th:src="@{${extraImage.imagePath}}"
								height="50" th:index="${status.count}" />
						</div>
					</th:block>
				</div>
			</div>
			<div class="col-sm">
				<div>
					<h2>[[${product.name}]]</h2>
				</div>
				<div class="row ml-1">
					<div class="col-xs">
						<input type="text" class="product-detail-rating-star" dir="ltr"
							data-size="md" th:value="${product.averageRating}" />
					</div>
					<div class="col-xs ml-1 mt-3">
						<a th:href="@{${product.URI} + '#review'}">[[${product.reviewCount}]]
							rating(s)</a>
					</div>
				</div>
				<div>
					<span>Brand: [[${product.brand.name}]]</span>
				</div>
		
				<div>&nbsp;</div>
				<div th:utext="${product.shortDescription}"></div>
			</div>
			<div class="col-sm-2">
				<div>
					<span th:if="${product.inStock}" class="text-success"><b>In
							Stock</b></span> <span th:unless="${product.inStock}" class="text-danger"><b>Out
							of Stock</b></span>
				</div>

				<th:block th:if="${product.inStock}">
				 <!--  
					<div
						th:replace="cart/quantity_control :: quantity_control(1, ${product.id})"></div>
					<div class="mt-3">
						<input type="button" value="Add to Cart" id="buttonAdd2Cart"
							class="btn btn-primary" />
					</div>
					-->
				</th:block>
			</div>
		</div>

		<div class="row">
			<div class="col-12">
				<div>
					<hr />
				</div>
				<div>
					<h3>Product Description:</h3>
				</div>
				<div th:utext="${product.fullDescription}"></div>
			</div>
		</div>

		<div class="row">
			<div class="col-12">
				<div>
					<hr />
				</div>
				<div>
					<h3>Product Details:</h3>
				</div>
				<th:block th:each="detail : ${product.details}">
					<div>
						<b>[[${detail.name}]]</b>: <span>[[${detail.value}]]</span>
					</div>
				</th:block>
			</div>
		</div>
		<div th:replace="product/product_top_reviews :: content"></div>

		<div th:replace="product/images_carousel :: content"></div>
     
     <div th:replace="fragments :: footer"></div>
</body>
       
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</html>