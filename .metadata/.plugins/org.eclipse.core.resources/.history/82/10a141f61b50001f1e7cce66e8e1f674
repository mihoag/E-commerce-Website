const messageCateName = document.getElementById("messageCateName");
const messageAlias = document.getElementById("messageAlias");
const nameInput = document.getElementById("name");
console.log(messageCateName)
function showMessage(element, message)
{
	element.classList.remove("hidden");
	element.innerText = message;
}
messageCateName.addEventListener('blur',  function(event) {
	  console.log("ok")
        var cateNameMessage = event.target.value;
        var params = {name : cateNameMessage};
             const url = '/MyshopAdmin/api/categories/check_name';          
             $.post(url, params, async function (response) {
				  console.log(response);
				  if (response == "OK") {
			       messageCateName.classList.add("hidden")
		    } else if (response == "Duplicated") {
			    showMessage(messageCateName,"The email is existed");
		    }
			}).fail(function () {
				 showMessage(messageCateName,"Fail to connect to server");	
			 });
});

messageAlias.addEventListener('blur',  function(event) {
        var aliasMessage = event.target.value;
        var params = {alias : aliasMessage};
             const url = '/MyshopAdmin/api/categories/check_alias';          
             $.post(url, params, async function (response) {
				  if (response == "OK") {
			       messageAlias.classList.add("hidden")
		    } else if (response == "Duplicated") {
			    showMessage(messageAlias,"The email is existed");
		    }
			}).fail(function () {
				 showMessage(messageAlias,"Fail to connect to server");	
			 });
});





